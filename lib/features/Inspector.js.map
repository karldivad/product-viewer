{"version":3,"file":"Inspector.js","sourceRoot":"","sources":["../../src/features/Inspector.ts"],"names":[],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;;;;;GAoBG;AACH,OAAO,sBAAsB,CAAC;AAE9B,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAO7C,MAAM,CAAC,MAAM,cAAc,GAAG,CAC7B,iBAAoB,EACkB,EAAE;IACxC,MAAM,sBAAuB,SAAQ,iBAAiB;QAAtD;;YACqE,cAAS,GAAG,KAAK,CAAC;QA8BvF,CAAC;QA5BA,OAAO,CAAC,iBAAmC;;YAC1C,MAAA,KAAK,CAAC,OAAO,qDAAG,iBAAiB,CAAC,CAAC;YAEnC,IAAI,iBAAiB,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;gBACvC,IAAI,IAAI,CAAC,SAAS,EAAE;oBACnB,IAAI,CAAC,aAAa,EAAE,CAAC;iBACrB;qBAAM;oBACN,IAAI,CAAC,aAAa,EAAE,CAAC;iBACrB;aACD;QACF,CAAC;QAED,aAAa;YACZ,MAAM,UAAU,GAAI,IAAI,CAAC,UAAyB,CAAC,IAAI,CAAC,aAA4B,CAAC;YACrF,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7E,CAAC;QAED,aAAa;;YACZ,IAAI,MAAA,IAAI,CAAC,KAAK,0CAAE,UAAU,CAAC,SAAS,EAAE,EAAE;gBACvC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;aAC7B;QACF,CAAC;QAED,oBAAoB;YACnB,KAAK,CAAC,oBAAoB,EAAE,CAAC;YAC7B,iEAAiE;YACjE,IAAI,CAAC,aAAa,EAAE,CAAC;QACtB,CAAC;KACD;IA9BoE;QAAnE,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;6DAAmB;IAgCvF,OAAO,sBAA6D,CAAC;AACtE,CAAC,CAAC","sourcesContent":["/* @license\n * Copyright 2022 Lowe's Companies, Inc. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport \"@babylonjs/inspector\";\nimport ProductViewerElementBase from \"../product-viewer-base\";\nimport { property } from \"lit/decorators.js\";\nimport { Constructor } from \"../tools/Utils\";\n\nexport declare interface InspectorInterface {\n\tinspector: boolean;\n}\n\nexport const InspectorMixin = <T extends Constructor<ProductViewerElementBase>>(\n\tBaseViewerElement: T,\n): Constructor<InspectorInterface> & T => {\n\tclass InspectorViewerElement extends BaseViewerElement {\n\t\t@property({ type: Boolean, attribute: \"inspector\", reflect: true }) inspector = false;\n\n\t\tupdated(changedProperties: Map<string, any>): void {\n\t\t\tsuper.updated?.(changedProperties);\n\n\t\t\tif (changedProperties.has(\"inspector\")) {\n\t\t\t\tif (this.inspector) {\n\t\t\t\t\tthis.showInspector();\n\t\t\t\t} else {\n\t\t\t\t\tthis.hideInspector();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tshowInspector() {\n\t\t\tconst globalRoot = (this.renderRoot as ShadowRoot).host.parentElement as HTMLElement;\n\t\t\tthis.scene.debugLayer.show({ embedMode: true, globalRoot, overlay: false });\n\t\t}\n\n\t\thideInspector() {\n\t\t\tif (this.scene?.debugLayer.isVisible()) {\n\t\t\t\tthis.scene.debugLayer.hide();\n\t\t\t}\n\t\t}\n\n\t\tdisconnectedCallback(): void {\n\t\t\tsuper.disconnectedCallback();\n\t\t\t// hide inspector on unmount so it will work when it is remounted\n\t\t\tthis.hideInspector();\n\t\t}\n\t}\n\n\treturn InspectorViewerElement as Constructor<InspectorInterface> & T;\n};\n"]}